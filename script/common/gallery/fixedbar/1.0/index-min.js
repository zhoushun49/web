KISSY.add("gallery/fixedbar/1.0/index",function(b){function c(d,a){if(6!=b.UA.ie)if(this instanceof c)this.con=b.one(d),c.superclass.constructor.call(this,a),this.init();else return new c(d,a)}c.ATTRS={top:{value:0},bottom:{value:0},floor:{value:1E10}};b.extend(c,b.Base,{init:function(){function c(){var d=b.DOM.scrollTop();h.height();b.DOM.viewportHeight();e+a.con.height()+d>=i?"absolute"!=a.con.css("position")&&a.con.css({position:"absolute",top:a.con.offset().top>f?f:a.con.offset().top}):d+e>j?
"fixed"!=a.con.css("position")&&a.con.css({position:"fixed",top:e}):a.con.css("position")!=g&&a.con.css({position:g,top:k})}var a=this;if(a.con){var e=a.get("top"),f=a.get("bottom"),i=a.get("floor"),j=a.con.offset().top;b.one("body").height();a.con.offset();a.con.height();var g=a.con.css("position"),k=Number(a.con.css("top").replace("px","")),h=b.one("body");if(b.UA.mobile)this.timmer=setInterval(c,200);else b.Event.on(window,"scroll",c)}},destory:function(){}});return c},{requires:["base","node"]});
